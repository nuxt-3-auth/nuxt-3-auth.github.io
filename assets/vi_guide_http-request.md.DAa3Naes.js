import{_ as t,c as s,o as i,a4 as e}from"./chunks/framework.CfbOou38.js";const g=JSON.parse('{"title":"HTTP request","description":"","frontmatter":{},"headers":[],"relativePath":"vi/guide/http-request.md","filePath":"vi/guide/http-request.md"}'),a={name:"vi/guide/http-request.md"},h=e(`<h1 id="http-request" tabindex="-1">HTTP request <a class="header-anchor" href="#http-request" aria-label="Permalink to &quot;HTTP request&quot;">​</a></h1><p>Module này cung cấp một cách đơn giản để thực hiện các HTTP request sử dụng thư viện <a href="https://github.com/unjs/ofetch" target="_blank" rel="noreferrer"><code>ofetch</code></a>.</p><p>Để thực hiện một request, bạn có thể sử dụng phương thức <code>$fetch</code> được cung cấp bởi <code>$auth</code>.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> auth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> auth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/books&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><code>$auth.$fetch</code> sử dụng <a href="https://nuxt.com/docs/api/utils/dollarfetch" target="_blank" rel="noreferrer">nuxt $fetch</a> bên dưới, vì vậy bạn có thể sử dụng tất cả các tùy chọn được cung cấp bởi phương thức fetch của nuxt. Ngoài ra, có thêm một tùy chọn nữa là <code>auth</code> để thực hiện các request được xác thực.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> auth</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useAuth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> auth.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/me&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  auth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>Tùy chọn <code>auth</code> cho phép các giá trị sau:</p><table tabindex="0"><thead><tr><th>Giá trị</th><th>Đính kèm Access Token</th><th>Làm mới access token</th><th>Thử lại request</th><th>Mô tả</th></tr></thead><tbody><tr><td><strong><code>&#39;auto&#39;</code></strong></td><td>✅</td><td>❌</td><td>❌</td><td>Thực hiện request xác thực nếu có thể nhưng không làm mới access token khi token hết hạn</td></tr><tr><td><code>true</code></td><td>✅</td><td>✅</td><td>✅</td><td>Thực hiện request xác thực và làm mới token sau đó thử lại nếu trạng thái phản hồi là <code>401</code></td></tr><tr><td><code>false</code></td><td>❌</td><td>❌</td><td>❌</td><td>Thực hiện request bình thường</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Mặc định, option <a href="/vi/api/options.html#useglobalfetch">useGlobalFetch</a> được thiết lập là <code>true</code>, do đó global <code>$fetch</code> được override bởi <code>$auth.$fetch</code>.</p><p>Trong trường hợp bạn muốn sử dụng <code>$fetch</code> mặc định của Nuxt, hãy thiết lập <code>useGlobalFetch: false</code> trong <a href="/vi/api/options.html#useGlobalFetch">options</a>.</p></div>`,9),n=[h];function c(d,p,l,o,r,k){return i(),s("div",null,n)}const E=t(a,[["render",c]]);export{g as __pageData,E as default};
